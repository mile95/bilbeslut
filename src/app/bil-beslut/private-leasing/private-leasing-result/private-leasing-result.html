<div class="border rounded-lg p-4 shadow-sm flex flex-col w-96 hover:bg-slate-100 transition duration-300">

    <!-- Header -->
    <div class="relative flex gap-3 pb-3">
        <img [src]="getBrandIcon(privateLeasing.brand)" [alt]="privateLeasing.brand"
            class="h-6 w-6 object-contain mt-0.5" />

        <div class="flex-1 leading-tight">
            <h3 class="text-lg font-bold text-gray-900">
                {{ privateLeasing.brand }} {{ privateLeasing.model }}
            </h3>

            <p class="text-sm text-gray-600" *ngIf="privateLeasing.trim">
                {{ privateLeasing.trim }}
            </p>

            <p class="text-xs font-medium text-gray-500 mt-0.5">
                {{ privateLeasing.standardDurationInMonths }} månader
            </p>
        </div>

        <span class="absolute top-0 right-0 text-xs font-semibold px-2 py-0.5 rounded-full"
            [ngClass]="getfuelBadgeClass()">
            {{ privateLeasing.fuelType }}
        </span>
    </div>

    <!-- Sann månadskostnad -->
    <div class="mb-4">
        <p class="text-xs uppercase font-semibold text-gray-500 tracking-wide mb-0.5">
            Sann månadskostnad
        </p>
        <p class="text-3xl font-extrabold text-blue-700 leading-none">
            {{ privateLeasing.getTotalMonthlyCost() | number }} kr
            <span class="text-sm font-normal">/ mån</span>
        </p>
    </div>

    <!-- Kostnadsdetaljer -->
    <div class="text-gray-700 text-sm space-y-1 mb-4">
        <div class="flex justify-between">
            <span>Baspris</span>
            <span>{{ privateLeasing.leaseBaseMonthlyCostInSek | number }} kr</span>
        </div>
        <div class="flex justify-between">
            <span>Försäkring</span>
            <span>{{ privateLeasing.insuranceCostPerMonthInSek | number }} kr</span>
        </div>
        <div class="flex justify-between">
            <span>Vinterdäck</span>
            <span>{{ privateLeasing.winterTiresMonthlyCostInSek | number }} kr</span>
        </div>
        <div class="flex justify-between">
            <span>Bränsle / El</span>
            <span>{{ privateLeasing.estimatedFuelOrElectricity | number }} kr</span>
        </div>
        <div class="flex justify-between">
            <span>Fordonsskatt</span>
            <span>{{ privateLeasing.getTaxCostPerMonth() | number }} kr</span>
        </div>
        <div class="flex justify-between">
            <span>Service</span>
            <span>{{ privateLeasing.serviceCostPerMonthInSek | number }} kr</span>

        </div>
    </div>

    <!-- Total kostnad + länk -->
    <div class="border-t pt-3 flex items-center justify-between">
        <div>
            <p class="text-xs uppercase font-semibold text-gray-500 tracking-wide">
                Total kostnad
            </p>
            <p class="text-lg font-semibold text-gray-800">
                {{ privateLeasing.getTotalCostForFullLeaseInSek() | number }} kr
            </p>
        </div>

        <a [href]="privateLeasing.sourceUrl" target="_blank"
            class="text-sm text-blue-600 hover:underline whitespace-nowrap">
            Visa →
        </a>
    </div>
</div>